/data2/yr/sar-text2023/resnet50_open_resource   5m 47s  jd kolt@lthpc 00:08:36
❯ python retrieval.py
/data1/soft/Anaconda3-2022.05/envs/jd/lib/python3.7/site-packages/requests/__init__.py:104: RequestsDependencyWarning: urllib3 (1.26.9) or chardet (5.1.0)/charset_normalizer (2.0.12) doesn't match a supported version!
  RequestsDependencyWarning)
-------------------- train: 21455 ------------------------------
-------------------- val: 0 ------------------------------
-------------------- test: 2260 ------------------------------
Some weights of the model checkpoint at /data2/yr/sar-text2/code/bert-base-uncased were not used when initializing bertmodel: ['cls.seq_relationship.weight', 'cls.predictions.transform.dense.weight', 'cls.predictions.bias', 'cls.predictions.transform.LayerNorm.weight', 'cls.predictions.transform.LayerNorm.bias', 'cls.predictions.transform.dense.bias', 'cls.predictions.decoder.weight', 'cls.seq_relationship.bias']
- This IS expected if you are initializing bertmodel from the checkpoint of a model trained on another task or with another architecture (e.g. initializing a BertForSequenceClassification model from a BertForPreTraining model).
- This IS NOT expected if you are initializing bertmodel from the checkpoint of a model that you expect to be exactly identical (initializing a BertForSequenceClassification model from a BertForSequenceClassification model).
/data1/soft/Anaconda3-2022.05/envs/jd/lib/python3.7/site-packages/transformers/tokenization_utils_base.py:1661: FutureWarning: Calling BertTokenizer.from_pretrained() with the path to a single file or url is deprecated and won't be possible anymore in v5. Use a model identifier or the path to a directory instead.
  FutureWarning,
0it [00:00, ?it/s]/data1/soft/Anaconda3-2022.05/envs/jd/lib/python3.7/site-packages/torch/nn/functional.py:2398: UserWarning: reduction: 'mean' divides the total loss by both the batch size and the support size.'batchmean' divides only by the batch size, and aligns with the KL div math definition.'mean' will be changed to behave the same as 'batchmean' in the next major release.
  warnings.warn("reduction: 'mean' divides the total loss by both the batch size and the support size."
EPOCH 001: mean_loss=225.9325
6.253687315634218        
1
t_r1=2.2123893805309733, t_r5=5.9734513274336285, t_r10=9.955752212389381v_r1=1.238938053097345, v_r5=5.398230088495575, v_r10=12.743362831858407mr=6.253687315634218 
EPOCH 002: mean_loss=209.6247
11.150442477876107       
2
t_r1=2.6548672566371683, t_r5=10.84070796460177, t_r10=16.371681415929203v_r1=2.8761061946902653, v_r5=10.973451327433628, v_r10=23.1858407079646mr=11.150442477876107 
EPOCH 003: mean_loss=202.8934
17.116519174041297       
3
t_r1=4.646017699115045, t_r5=14.15929203539823, t_r10=23.008849557522122v_r1=4.513274336283186, v_r5=21.150442477876105, v_r10=35.2212389380531mr=17.116519174041297 
EPOCH 004: mean_loss=199.2382
21.238938053097346       
4
t_r1=6.6371681415929205, t_r5=17.035398230088497, t_r10=25.663716814159294v_r1=5.575221238938053, v_r5=26.01769911504425, v_r10=46.50442477876106mr=21.238938053097346 
EPOCH 005: mean_loss=194.9261
27.28613569321534        
5
t_r1=6.8584070796460175, t_r5=23.893805309734514, t_r10=38.49557522123894v_r1=8.4070796460177, v_r5=31.371681415929203, v_r10=54.690265486725664mr=27.28613569321534 
EPOCH 006: mean_loss=190.2751
28.68731563421829        
6
t_r1=10.176991150442477, t_r5=25.663716814159294, t_r10=40.92920353982301v_r1=8.053097345132743, v_r5=31.283185840707965, v_r10=56.017699115044245mr=28.68731563421829 
EPOCH 007: mean_loss=186.4151
30.442477876106196       
7
t_r1=10.84070796460177, t_r5=28.761061946902654, t_r10=43.14159292035398v_r1=8.761061946902656, v_r5=34.11504424778761, v_r10=57.0353982300885mr=30.442477876106196 
EPOCH 008: mean_loss=183.8191
30.442477876106196       
7
t_r1=8.849557522123893, t_r5=28.097345132743364, t_r10=41.5929203539823v_r1=8.805309734513274, v_r5=34.424778761061944, v_r10=59.29203539823009mr=30.17699115044248 
EPOCH 009: mean_loss=181.6706
32.160766961651916       
9
t_r1=12.389380530973451, t_r5=30.530973451327434, t_r10=45.796460176991154v_r1=9.247787610619469, v_r5=35.84070796460177, v_r10=59.15929203539823mr=32.160766961651916 
EPOCH 010: mean_loss=179.7348
32.160766961651916       
9
t_r1=10.619469026548673, t_r5=28.98230088495575, t_r10=43.36283185840708v_r1=9.690265486725664, v_r5=36.283185840707965, v_r10=61.10619469026549mr=31.6740412979351 
EPOCH 011: mean_loss=177.7347
32.160766961651916       
9
t_r1=10.619469026548673, t_r5=28.761061946902654, t_r10=43.36283185840708v_r1=9.646017699115044, v_r5=37.610619469026545, v_r10=60.2212389380531mr=31.70353982300885 
EPOCH 012: mean_loss=176.2810
33.41445427728613        
12
t_r1=12.831858407079647, t_r5=31.858407079646017, t_r10=46.23893805309734v_r1=10.044247787610619, v_r5=38.53982300884956, v_r10=60.97345132743363mr=33.41445427728613 
EPOCH 013: mean_loss=174.6022
33.41445427728613        
12
t_r1=11.283185840707965, t_r5=30.530973451327434, t_r10=46.23893805309734v_r1=10.929203539823009, v_r5=39.203539823008846, v_r10=61.415929203539825mr=33.266961651917406 
EPOCH 014: mean_loss=173.5569
33.554572271386434       
14
t_r1=13.495575221238939, t_r5=31.41592920353982, t_r10=45.13274336283186v_r1=10.486725663716815, v_r5=38.849557522123895, v_r10=61.94690265486726mr=33.554572271386434 
EPOCH 015: mean_loss=172.5045
33.561946902654874       
15
t_r1=12.610619469026549, t_r5=31.858407079646017, t_r10=45.575221238938056v_r1=11.150442477876107, v_r5=40.176991150442475, v_r10=60.0mr=33.561946902654874 
EPOCH 016: mean_loss=171.3842
34.34365781710914        
16
t_r1=15.265486725663717, t_r5=30.75221238938053, t_r10=46.68141592920354v_r1=11.814159292035399, v_r5=39.424778761061944, v_r10=62.123893805309734mr=34.34365781710914 
EPOCH 017: mean_loss=170.4525
34.34365781710914        
16
t_r1=13.495575221238939, t_r5=32.52212389380531, t_r10=46.46017699115044v_r1=10.442477876106194, v_r5=39.424778761061944, v_r10=60.88495575221239mr=33.8716814159292 
EPOCH 018: mean_loss=169.3959
34.749262536873154       
18
t_r1=13.274336283185841, t_r5=32.07964601769911, t_r10=47.78761061946903v_r1=12.964601769911505, v_r5=40.442477876106196, v_r10=61.94690265486726mr=34.749262536873154 
EPOCH 019: mean_loss=168.8343
35.69321533923304        
19
t_r1=16.5929203539823, t_r5=34.95575221238938, t_r10=48.230088495575224v_r1=12.389380530973451, v_r5=40.84070796460177, v_r10=61.150442477876105mr=35.69321533923304 
EPOCH 020: mean_loss=167.9743
35.69321533923304        
19
t_r1=14.15929203539823, t_r5=32.743362831858406, t_r10=47.34513274336283v_r1=12.345132743362832, v_r5=39.823008849557525, v_r10=60.35398230088496mr=34.461651917404126 
EPOCH 021: mean_loss=167.2968
35.69321533923304        
19
t_r1=14.15929203539823, t_r5=34.29203539823009, t_r10=47.34513274336283v_r1=11.5929203539823, v_r5=41.50442477876106, v_r10=60.88495575221239mr=34.96312684365782 
EPOCH 022: mean_loss=166.5670
35.69321533923304        
19
t_r1=15.265486725663717, t_r5=34.29203539823009, t_r10=47.56637168141593v_r1=12.920353982300885, v_r5=41.150442477876105, v_r10=60.70796460176991mr=35.31710914454277 
EPOCH 023: mean_loss=166.1821
35.69321533923304        
19
t_r1=14.601769911504425, t_r5=33.849557522123895, t_r10=48.230088495575224v_r1=13.495575221238939, v_r5=40.530973451327434, v_r10=61.46017699115044mr=35.36135693215339 
EPOCH 024: mean_loss=165.6212
36.35693215339233        
24
t_r1=15.929203539823009, t_r5=34.73451327433628, t_r10=49.557522123893804v_r1=13.982300884955752, v_r5=41.769911504424776, v_r10=62.16814159292036mr=36.35693215339233 
EPOCH 025: mean_loss=165.0624
36.65929203539823        
25
t_r1=15.265486725663717, t_r5=37.83185840707964, t_r10=50.0v_r1=13.008849557522124, v_r5=41.63716814159292, v_r10=62.21238938053097mr=36.65929203539823 
EPOCH 026: mean_loss=164.6197
36.65929203539823        
25
t_r1=14.380530973451327, t_r5=35.176991150442475, t_r10=50.442477876106196v_r1=13.982300884955752, v_r5=43.6283185840708, v_r10=61.54867256637168mr=36.52654867256637 
EPOCH 027: mean_loss=164.1634
36.65929203539823        
25
t_r1=15.70796460176991, t_r5=35.176991150442475, t_r10=51.10619469026549v_r1=13.495575221238939, v_r5=42.34513274336283, v_r10=61.150442477876105mr=36.49705014749262 
EPOCH 028: mean_loss=163.6600
36.65929203539823        
25
t_r1=12.610619469026549, t_r5=35.39823008849557, t_r10=50.0v_r1=13.053097345132743, v_r5=42.743362831858406, v_r10=61.8141592920354mr=35.93657817109145 
EPOCH 029: mean_loss=163.2204
36.65929203539823        
25
t_r1=15.265486725663717, t_r5=34.29203539823009, t_r10=49.11504424778761v_r1=12.787610619469026, v_r5=42.56637168141593, v_r10=61.94690265486726mr=35.99557522123894 
EPOCH 030: mean_loss=163.0863
36.75516224188791        
30
t_r1=13.938053097345133, t_r5=36.283185840707965, t_r10=50.88495575221239v_r1=14.380530973451327, v_r5=43.27433628318584, v_r10=61.769911504424776mr=36.75516224188791 
EPOCH 031: mean_loss=162.5798
36.75516224188791        
30
t_r1=14.601769911504425, t_r5=35.84070796460177, t_r10=50.663716814159294v_r1=12.743362831858407, v_r5=43.89380530973451, v_r10=62.43362831858407mr=36.69616519174041 
EPOCH 032: mean_loss=162.2260
36.75516224188791        
30
t_r1=14.15929203539823, t_r5=34.51327433628319, t_r10=49.11504424778761v_r1=13.451327433628318, v_r5=43.36283185840708, v_r10=61.769911504424776mr=36.061946902654874 
EPOCH 033: mean_loss=161.9052
36.85840707964602        
33
t_r1=15.486725663716815, t_r5=36.283185840707965, t_r10=51.10619469026549v_r1=13.495575221238939, v_r5=42.69911504424779, v_r10=62.07964601769911mr=36.85840707964602 
EPOCH 034: mean_loss=161.6962
36.85840707964602        
33
t_r1=14.601769911504425, t_r5=33.4070796460177, t_r10=48.230088495575224v_r1=14.247787610619469, v_r5=43.008849557522126, v_r10=61.283185840707965mr=35.796460176991154 
EPOCH 035: mean_loss=161.4216
36.85840707964602        
33
t_r1=13.938053097345133, t_r5=36.06194690265487, t_r10=48.45132743362832v_r1=13.938053097345133, v_r5=42.743362831858406, v_r10=60.97345132743363mr=36.017699115044245 
EPOCH 036: mean_loss=161.0460
36.85840707964602        
33
t_r1=14.15929203539823, t_r5=35.176991150442475, t_r10=47.34513274336283v_r1=13.31858407079646, v_r5=42.78761061946903, v_r10=59.91150442477876mr=35.449852507374636 
EPOCH 037: mean_loss=160.9439
36.85840707964602        
33
t_r1=15.265486725663717, t_r5=35.84070796460177, t_r10=49.336283185840706v_r1=13.539823008849558, v_r5=44.02654867256637, v_r10=61.68141592920354mr=36.61504424778761 
EPOCH 038: mean_loss=160.7111
36.85840707964602        
33
t_r1=15.044247787610619, t_r5=35.84070796460177, t_r10=48.67256637168141v_r1=14.15929203539823, v_r5=41.32743362831859, v_r10=60.575221238938056mr=35.93657817109145 
EPOCH 039: mean_loss=160.4245
36.85840707964602        
33
t_r1=14.601769911504425, t_r5=36.06194690265487, t_r10=48.67256637168141v_r1=13.938053097345133, v_r5=43.05309734513274, v_r10=61.94690265486726mr=36.37905604719764 
EPOCH 040: mean_loss=160.1716
36.85840707964602        
33
t_r1=15.044247787610619, t_r5=34.73451327433628, t_r10=46.68141592920354v_r1=13.628318584070797, v_r5=42.34513274336283, v_r10=61.415929203539825mr=35.64159292035398 
EPOCH 041: mean_loss=159.9821
36.85840707964602        
33
t_r1=14.601769911504425, t_r5=35.61946902654867, t_r10=47.56637168141593v_r1=13.4070796460177, v_r5=42.9646017699115, v_r10=62.16814159292036mr=36.054572271386434 
EPOCH 042: mean_loss=159.7801
36.85840707964602        
33
t_r1=14.601769911504425, t_r5=35.61946902654867, t_r10=46.902654867256636v_r1=14.11504424778761, v_r5=43.31858407079646, v_r10=60.84070796460177mr=35.899705014749266 
EPOCH 043: mean_loss=159.5396
37.0353982300885         
43
t_r1=16.371681415929203, t_r5=36.06194690265487, t_r10=50.2212389380531v_r1=14.15929203539823, v_r5=43.6283185840708, v_r10=61.769911504424776mr=37.0353982300885 
EPOCH 044: mean_loss=159.4258
37.04277286135693        
44
t_r1=15.929203539823009, t_r5=36.72566371681416, t_r10=48.45132743362832v_r1=15.221238938053098, v_r5=44.02654867256637, v_r10=61.902654867256636mr=37.04277286135693 
EPOCH 045: mean_loss=159.2229
37.04277286135693        
44
t_r1=16.150442477876105, t_r5=38.49557522123894, t_r10=48.230088495575224v_r1=14.823008849557523, v_r5=43.05309734513274, v_r10=60.61946902654867mr=36.8952802359882 
EPOCH 046: mean_loss=158.9427
37.04277286135693        
44
t_r1=14.15929203539823, t_r5=35.176991150442475, t_r10=46.68141592920354v_r1=14.11504424778761, v_r5=42.9646017699115, v_r10=60.97345132743363mr=35.67846607669616 
EPOCH 047: mean_loss=158.8900
37.04277286135693        
44
t_r1=15.044247787610619, t_r5=34.73451327433628, t_r10=48.008849557522126v_r1=15.176991150442477, v_r5=43.89380530973451, v_r10=60.575221238938056mr=36.23893805309734 
EPOCH 048: mean_loss=158.8130
37.04277286135693        
44
t_r1=14.823008849557523, t_r5=34.95575221238938, t_r10=48.67256637168141v_r1=15.176991150442477, v_r5=43.93805309734513, v_r10=60.309734513274336mr=36.312684365781706 
EPOCH 049: mean_loss=158.4447
37.04277286135693        
44
t_r1=16.371681415929203, t_r5=34.51327433628319, t_r10=47.78761061946903v_r1=14.247787610619469, v_r5=43.76106194690266, v_r10=59.7787610619469mr=36.07669616519174 
EPOCH 050: mean_loss=158.4121
38.08259587020649        
50
t_r1=16.5929203539823, t_r5=40.04424778761062, t_r10=51.32743362831859v_r1=15.530973451327434, v_r5=44.203539823008846, v_r10=60.796460176991154mr=38.08259587020649 
EPOCH 051: mean_loss=158.2664
38.08259587020649        
50
t_r1=17.256637168141594, t_r5=36.283185840707965, t_r10=50.663716814159294v_r1=14.955752212389381, v_r5=44.02654867256637, v_r10=61.50442477876106mr=37.448377581120944 
EPOCH 052: mean_loss=158.0995
38.08259587020649        
50
t_r1=16.371681415929203, t_r5=37.389380530973455, t_r10=48.89380530973451v_r1=14.380530973451327, v_r5=43.849557522123895, v_r10=61.94690265486726mr=37.13864306784661 
EPOCH 053: mean_loss=158.0860
38.08259587020649        
50
t_r1=16.5929203539823, t_r5=35.84070796460177, t_r10=49.557522123893804v_r1=16.150442477876105, v_r5=44.203539823008846, v_r10=60.575221238938056mr=37.153392330383475 
EPOCH 054: mean_loss=157.8380
38.08259587020649        
50
t_r1=15.70796460176991, t_r5=36.50442477876106, t_r10=49.7787610619469v_r1=14.601769911504425, v_r5=44.64601769911504, v_r10=61.769911504424776mr=37.16814159292036 
EPOCH 055: mean_loss=157.7993
38.08259587020649        
50
t_r1=16.8141592920354, t_r5=35.84070796460177, t_r10=48.45132743362832v_r1=14.424778761061948, v_r5=44.38053097345133, v_r10=60.97345132743363mr=36.81415929203539 
EPOCH 056: mean_loss=157.6487
38.08259587020649        
50
t_r1=17.47787610619469, t_r5=35.176991150442475, t_r10=46.902654867256636v_r1=14.778761061946902, v_r5=43.849557522123895, v_r10=60.2212389380531mr=36.401179941002944 
EPOCH 057: mean_loss=157.5500
38.08259587020649        
50
t_r1=16.8141592920354, t_r5=35.84070796460177, t_r10=50.2212389380531v_r1=14.513274336283185, v_r5=44.07079646017699, v_r10=61.8141592920354mr=37.21238938053097 
EPOCH 058: mean_loss=157.5302
38.08259587020649        
50
t_r1=17.256637168141594, t_r5=35.61946902654867, t_r10=49.7787610619469v_r1=13.628318584070797, v_r5=44.51327433628319, v_r10=60.176991150442475mr=36.82890855457227 
EPOCH 059: mean_loss=157.3444
38.08259587020649        
50
t_r1=16.371681415929203, t_r5=37.83185840707964, t_r10=49.7787610619469v_r1=14.823008849557523, v_r5=43.6283185840708, v_r10=60.176991150442475mr=37.10176991150442 
EPOCH 060: mean_loss=157.1908
38.08259587020649        
50
t_r1=14.823008849557523, t_r5=37.389380530973455, t_r10=50.0v_r1=14.955752212389381, v_r5=43.716814159292035, v_r10=60.442477876106196mr=36.88790560471977 

/data2/yr/sar-text20/resnet50_open_resource 4h 27m 51s  jd kolt@lthpc 04:36:58
❯ 

